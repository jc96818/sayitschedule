# Say It Schedule - Production Environment Variables
# This file shows the environment variables needed for production
# In AWS ECS, these are injected from SSM Parameter Store

# ===========================================
# REQUIRED: Set in AWS SSM Parameter Store
# ===========================================

# Database connection (created automatically by Terraform if using RDS)
# SSM Path: /sayitschedule/production/database-url
# DATABASE_URL=postgresql://user:pass@rds-endpoint:5432/sayitschedule

# JWT Secret for authentication tokens
# SSM Path: /sayitschedule/production/JWT_SECRET
# JWT_SECRET=your-secure-jwt-secret-32-chars-min

# AI Provider Configuration
# AI_PROVIDER: 'nova' (default, uses AWS Bedrock) or 'openai'
# SSM Path: /sayitschedule/production/AI_PROVIDER
AI_PROVIDER=nova

# OpenAI API Key (only needed if AI_PROVIDER=openai)
# SSM Path: /sayitschedule/production/OPENAI_API_KEY
# OPENAI_API_KEY=sk-your-openai-api-key

# ===========================================
# SET BY ECS TASK DEFINITION
# ===========================================

NODE_ENV=production
PORT=3000

# Transcription Configuration (set in SSM or task definition)
# DEFAULT_TRANSCRIPTION_PROVIDER=aws-medical
# DEFAULT_MEDICAL_SPECIALTY=PRIMARYCARE

# Email Configuration (AWS SES)
# EMAIL_ENABLED: Set to 'true' to enable sending emails
EMAIL_ENABLED=false
# EMAIL_FROM: The email address emails will be sent from (must be verified in SES)
EMAIL_FROM=noreply@sayitschedule.com
# APP_URL: Base URL for email links
APP_URL=https://demo.sayitschedule.com

# ===========================================
# GITHUB ACTIONS SECRETS REQUIRED
# ===========================================

# AWS_ACCESS_KEY_ID - IAM user access key with ECS/ECR permissions
# AWS_SECRET_ACCESS_KEY - IAM user secret key

# ===========================================
# AWS PERMISSIONS (ECS Task Role)
# ===========================================
# The ECS task role needs these permissions:
#
# For AWS Transcribe:
# - transcribe:StartMedicalStreamTranscription
# - transcribe:StartStreamTranscription
#
# For AWS Bedrock Nova (AI_PROVIDER=nova):
# - bedrock:InvokeModel
# - bedrock:InvokeModelWithResponseStream
# Resource: arn:aws:bedrock:*::foundation-model/amazon.nova-*
#
# For AWS SES (EMAIL_ENABLED=true):
# - ses:SendEmail
# - ses:SendRawEmail
#
# These are automatically available via the ECS task role (no need for access keys)

# ===========================================
# NOTES
# ===========================================

# 1. Never commit actual secrets to git
# 2. Use AWS SSM Parameter Store for all sensitive values
# 3. Terraform automatically creates SSM parameters from terraform.tfvars
# 4. ECS task definition injects SSM parameters as environment variables
